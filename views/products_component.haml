%link{ :rel=> 'import', :href=> 'product-component'}

%template#products-template
  - items.each do |uri|
    %product-view{'url' => uri, :class=>"product-item"}



:javascript
  (function (){
  var currentscript= document.currentScript;
  var template = currentscript
          .ownerDocument
          .getElementById('products-template')
          .content;
  customElements.define('product-list',
    class extends HTMLElement {
      constructor() {
        super()
        }
      connectedCallback() {
        const temp = document.importNode(template, true);
        this.appendChild(temp);
      }
  })
  }())

